//Idea and ships made by Serendibite
//Coding done by Money

var map =
"-----------------3-------------9---------2------------------\n"+
"---------------2---1---------9-9-------3-1-------------3----\n"+
"-------6--------1--0-1----6------6----0----0----------------\n"+
"--------------969696969--6-6----6-6--969696969--------------\n"+
"---1-----------848484849--6------6--948484848---------------\n"+
"-----------------------49----------94-----------------------\n"+
"------7-----------------49--------94-----------------3------\n"+
"-------------1-----------49------94-------------------------\n"+
"------------------9------86-0--3-68-------------------------\n"+
"-------------------------49--1---94-----2-------------------\n"+
"-------------------------86----2-68------------4------------\n"+
"----------8--------------491-----94-------------------------\n"+
"-------------------------86-0----68-------------------------\n"+
"----2--------------------49---0--94------------------1------\n"+
"-----------------7-------86-3--2-68-------------------------\n"+
"--------3-----------------9------9-----8--------------------\n"+
"-----------4------------------------------------5-----------\n"+
"-----------7------------------------------------------------\n"+
"------------------------------------------------------------\n"+
"------------------------------------------------------------\n"+
"-----2-------------------1---------------2---------------8--\n"+
"------------------------------------------------------------\n"+
"------------------------------------------------------------\n"+
"---------------03---------------------------------1---------\n"+
"-----------------------6---------0--------------------------\n"+
"---------4------------------------------1---------------1---\n"+
"------------------------------------------------------------\n"+
"------------------------------------------------------------\n"+
"------------------------------------------------------------\n"+
"-44------------8--------------0-------------4---------------\n"+
"------------------------------------------------------------\n"+
"------------------------------------------------------------\n"+
"------------------------------------------------------------\n"+
"------------------------------6----------------------4------\n"+
"------7------------7-----------------------8----------------\n"+
"------------------------------------------------------------\n"+
"------------------------------------------------------------\n"+
"--------------6---------------------------------------------\n"+
"----------------------------------1-----------------------3-\n"+
"-------------------------3----------------------4-----------\n"+
"---------------4--------------------------------------------\n"+
"------1-----------------------------------------------------\n"+
"--------------------------------------2---------------------\n"+
"------------------------------------------------------------\n"+
"----------2---------------9------9--------------7-----------\n"+
"-------------------------86-1--0268-------------------------\n"+
"-------------------5-----493--1--94-------------------------\n"+
"--2----------------------86------68------9------------------\n"+
"-------------------------49-2--1-94------------------7------\n"+
"----------4--------------86------68-------------------------\n"+
"-------------------------490---3-94-------------------------\n"+
"-------------------------86--2---68-----------6-------------\n"+
"---------------6---------49-1----94-------------------------\n"+
"------------------------49--------94--------------2---------\n"+
"-----------------------49----------94------------------8----\n"+
"----3----------848484849--6------6--948484848---------------\n"+
"--------------969696969--6-6----6-6--969696969--------------\n"+
"---------------0-----2----6------6----2--------------7------\n"+
"--------8----------1--------9-9---------1--0----------------\n"+
"----------------3-----------9---------1----------------------" ; //No, I don't need to hear about how it looks like a dick
//------------------------------------------------------------------------------------------------------------------------------------------------
var vocabulary = [
      { text: "You", icon:"\u004e", key:"O" },
      { text: "Me", icon:"\u004f", key:"E" },
      { text: "Yes", icon:"\u004c", key:"Y" },
      { text: "No", icon:"\u004d", key:"N" },

      { text: "Attack", icon:"\50", key:"A" },
      { text: "Healing", icon:"\70", key:"H" },
      { text: "Gems", icon:"\u0044", key:"M" },
      { text: "Defend", icon:"\u0025", key:"D" },

      { text: "Wait", icon:"\u0048", key:"T" },
      { text: "Kill", icon:"\u005b", key:"K" },
      { text: "Base", icon:"\u0034", key:"B" },
      { text: "?????????????????", icon:"\131", key:"E" },

      { text: "Good Game", icon:"GG", key:"G" },
      { text: "No Prob", icon:"\u0047", key:"P" },
      { text: "Thanks", icon:"\u0041", key:"X" },
      { text: "Sorry", icon:"\u00a1", key:"S" }
    ] ;

var Inferno_101 = '{"name":"Inferno","level":1,"model":1,"size":3,"specs":{"shield":{"capacity":[7000,8000],"reload":[80,120]},"generator":{"capacity":[5000,6000],"reload":[1000,1200]},"ship":{"mass":6500,"speed":[100,130],"rotation":[35,55],"acceleration":[100,130]}},"bodies":{"reactors":{"section_segments":40,"vertical":true,"offset":{"x":30,"y":10,"z":-43},"position":{"x":[0,0,0,0],"y":[-10,1,3,3],"z":[0,0,0,0]},"width":[7,7,6,0],"height":[10,10,9,0],"texture":[4,3,17]},"big_reactor":{"section_segments":40,"vertical":true,"offset":{"x":0,"y":14,"z":-20},"position":{"x":[0,0,0,0],"y":[-10,1,3,3],"z":[0,0,0,0]},"width":[8.4,8.4,7.199999999999999,0],"height":[12,12,10.799999999999999,0],"texture":[4,3,17]},"cockpit":{"section_segments":8,"offset":{"x":0,"y":-33,"z":7},"position":{"x":[0,0,0,0,0,0,0],"y":[-15,-9.5,-5,2.5,5,7.5,10],"z":[0,0,0,0,0,0,0]},"width":[0,2.4000000000000004,3.2,3.6,3.6,3.2,0],"height":[0,2.6999999999999997,3,3.3,3.3,3,0],"texture":[4,9,9,4]},"side_guards1":{"section_segments":12,"offset":{"x":30,"y":-5,"z":7},"position":{"x":[28,30,30,27,20,2,-5],"y":[-50,-45,-15,15,40,60,65],"z":[-7,-5,0,0,0,-4,-7]},"width":[0,3,5,6,7,8,0],"height":[0,4.199999999999999,7,8.399999999999999,7.699999999999999,6.3,0],"texture":[63,3,18,4,10,3]},"side_guards2":{"section_segments":12,"offset":{"x":30,"y":-5,"z":-7},"position":{"x":[28,30,30,27,20,2,-5],"y":[-50,-45,-15,15,40,60,65],"z":[7,5,0,0,0,4,7]},"width":[0,3,5,6,7,8,0],"height":[0,4.199999999999999,7,8.399999999999999,7.699999999999999,6.3,0],"texture":[63,3,18,4,10,3]},"side_guards3":{"section_segments":12,"offset":{"x":34,"y":-4,"z":0},"position":{"x":[27,29,31,28,20,0,-5],"y":[-45,-45,-15,15,42,62,65],"z":[0,0,0,0,0,0,0]},"width":[0,2.0999999999999996,3.5,4.199999999999999,4.8999999999999995,5.6,0],"height":[0,1.7999999999999998,3,3.5999999999999996,3.3,2.6999999999999997,0],"texture":[4,63,4,63,4]},"guns":{"section_segments":12,"offset":{"x":40,"y":-20,"z":0},"position":{"x":[0,0,0,0,0,0,0,0,0,0,0,0],"y":[-100,-110,-104,-96,-90,-84,20,22,30,50,60,63],"z":[0,0,0,0,0,0,0,0,0,0,0,0]},"width":[0,10,11,11,11,10,10,13,15,15,13,0],"height":[0,10,11,11,11,10,10,13,15,15,13,0],"texture":[17,4,63,4,2,3,4,13,8,63,4],"laser":{"number":2,"damage":[50,80],"rate":10,"speed":[120,150],"angle":4,"error":0,"recoil":10}},"turbines":{"section_segments":8,"offset":{"x":18,"y":35,"z":0},"position":{"x":[0,0,0,0,0,0,0,0,0,0],"y":[-50,-46,-51,-48,-40,-20,10,20,25,15],"z":[0,0,0,0,0,0,0,0,0,0]},"width":[0,6,9,12,13,14,13,11,10,0],"height":[0,6,9,12,13,14,13,11,10,0],"texture":[3,17,4,3,18,10,63,13,17],"propeller":true},"center":{"section_segments":8,"offset":{"x":0,"y":-10,"z":0},"position":{"x":[0,0,0,0,0,0,0,0,0,0,0],"y":[-45,-35,-20,-5,5,15,45,60,70,75,70],"z":[0,0,0,6,6,8,8,3,0,0,0]},"width":[0,6,8,10,11,11,10,8,6,4,0],"height":[0,8,8,8,8,8,8,10,8,6,6,0],"texture":[3,8,10,18,63,4,11,3,13,17],"propeller":true},"center_borders":{"section_segments":8,"offset":{"x":10,"y":-10,"z":11},"position":{"x":[-10,-10,-7,-5,0,0,-4,-4],"y":[-45,-45,-35,-20,5,45,70,70],"z":[-12,-12,-9,-9,-1,-1,-7,-7]},"width":[0,1,3,3,3,3,2,0],"height":[0,1,3,3,3,3,3,0],"texture":[63,63,63,4,17]},"gun_topping_1":{"section_segments":8,"offset":{"x":40,"y":-20,"z":7.8},"position":{"x":[0,0,0,3,5,5,3,0,-3,-5,-5,-3,0,3,5,5,3,0,-3,-5,-5,-3,0,3,5,5,3,0,-3,-5,-5,-3,0,3,5,5,3,0,-3,-5,-5,-3,0,0,0],"y":[-85,-85,-82.5,-80,-77.5,-75,-72.5,-70,-67.5,-65,-62.5,-60,-57.5,-55,-52.5,-50,-47.5,-45,-42.5,-40,-37.5,-35,-32.5,-30,-27.5,-25,-22.5,-20,-17.5,-15,-12.5,-10,-7.5,-5,-2.5,0,2.5,5,7.5,10,12.5,15,17.5,20,20],"z":[0,0,0,-1,-1.7,-1.7,-1,0,-1,-1.7,-1.7,-1,0,-1,-1.7,-1.7,-1,0,-1,-1.7,-1.7,-1,0,-1,-1.7,-1.7,-1,0,-1,-1.7,-1.7,-1,0,-1,-1.7,-1.7,-1,0,-1,-1.7,-1.7,-1,0,0,0]},"width":[0,3,3,2.5,2,2,2.5,3,2.5,2,2,2.5,3,2.5,2,2,2.5,3,2.5,2,2,2.5,3,2.5,2,2,2.5,3,2.5,2,2,2.5,3,2.5,2,2,2.5,3,2.5,2,2,2.5,3,3,0],"height":[0,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0],"texture":[4,4,4,17,4,17,4,4,17,4,17,4,4,17,4,17,4,4,17,4,17,4,4,17,4,17,4,4,17,4,17,4,4,17,4,17,4,4,17,4,17,4]},"gun_topping_2":{"section_segments":8,"offset":{"x":40,"y":-20,"z":7.8},"position":{"x":[0,0,0,-3,-5,-5,-3,0,3,5,5,3,0,-3,-5,-5,-3,0,3,5,5,3,0,-3,-5,-5,-3,0,3,5,5,3,0,-3,-5,-5,-3,0,3,5,5,3,0,0,0],"y":[-80,-85,-82.5,-80,-77.5,-75,-72.5,-70,-67.5,-65,-62.5,-60,-57.5,-55,-52.5,-50,-47.5,-45,-42.5,-40,-37.5,-35,-32.5,-30,-27.5,-25,-22.5,-20,-17.5,-15,-12.5,-10,-7.5,-5,-2.5,0,2.5,5,7.5,10,12.5,15,17.5,20,20],"z":[0,0,0,-1,-1.7,-1.7,-1,0,-1,-1.7,-1.7,-1,0,-1,-1.7,-1.7,-1,0,-1,-1.7,-1.7,-1,0,-1,-1.7,-1.7,-1,0,-1,-1.7,-1.7,-1,0,-1,-1.7,-1.7,-1,0,-1,-1.7,-1.7,-1,0,0,0]},"width":[0,3,3,2.5,2,2,2.5,3,2.5,2,2,2.5,3,2.5,2,2,2.5,3,2.5,2,2,2.5,3,2.5,2,2,2.5,3,2.5,2,2,2.5,3,2.5,2,2,2.5,3,2.5,2,2,2.5,3,3,0],"height":[0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0],"texture":[4,4,4,17,4,17,4,4,17,4,17,4,4,17,4,17,4,4,17,4,17,4,4,17,4,17,4,4,17,4,17,4,4,17,4,17,4,4,17,4,17,4]},"emitter0":{"section_segments":20,"vertical":true,"offset":{"x":40,"y":5,"z":8.5},"position":{"x":[0,0,0,0,0,0],"y":[-1,5.4,5.5,5.3,5.7,6],"z":[0,0,0,0,0,0]},"width":[3,2.9,2.4,2.3,1.2,0],"height":[3,2.9,2.4,2.3,1.2,0],"texture":[4,3,2,17,13]},"emitter1":{"section_segments":20,"vertical":true,"offset":{"x":40,"y":5,"z":21},"position":{"x":[0,0,0,0,0,0],"y":[-1,5.4,5.5,5.3,5.7,6],"z":[0,0,0,0,0,0]},"width":[3,2.9,2.4,2.3,1.2,0],"height":[3,2.9,2.4,2.3,1.2,0],"texture":[4,3,2,17,13]},"emitter2":{"section_segments":20,"vertical":true,"offset":{"x":40,"y":5,"z":33.5},"position":{"x":[0,0,0,0,0,0],"y":[-1,5.4,5.5,5.3,5.7,6],"z":[0,0,0,0,0,0]},"width":[3,2.9,2.4,2.3,1.2,0],"height":[3,2.9,2.4,2.3,1.2,0],"texture":[4,3,2,17,13]},"emitter3":{"section_segments":20,"vertical":true,"offset":{"x":40,"y":5,"z":46},"position":{"x":[0,0,0,0,0,0],"y":[-1,5.4,5.5,5.3,5.7,6],"z":[0,0,0,0,0,0]},"width":[3,2.9,2.4,2.3,1.2,0],"height":[3,2.9,2.4,2.3,1.2,0],"texture":[4,3,2,17,13]},"emitter4":{"section_segments":20,"vertical":true,"offset":{"x":40,"y":5,"z":58.5},"position":{"x":[0,0,0,0,0,0],"y":[-1,5.4,5.5,5.3,5.7,6],"z":[0,0,0,0,0,0]},"width":[3,2.9,2.4,2.3,1.2,0],"height":[3,2.9,2.4,2.3,1.2,0],"texture":[4,3,2,17,13]},"emitter5":{"section_segments":20,"vertical":true,"offset":{"x":40,"y":5,"z":71},"position":{"x":[0,0,0,0,0,0],"y":[-1,5.4,5.5,5.3,5.7,6],"z":[0,0,0,0,0,0]},"width":[3,2.9,2.4,2.3,1.2,0],"height":[3,2.9,2.4,2.3,1.2,0],"texture":[4,3,2,17,13]},"emitter6":{"section_segments":20,"vertical":true,"offset":{"x":40,"y":5,"z":83.5},"position":{"x":[0,0,0,0,0,0],"y":[-1,5.4,5.5,5.3,5.7,6],"z":[0,0,0,0,0,0]},"width":[3,2.9,2.4,2.3,1.2,0],"height":[3,2.9,2.4,2.3,1.2,0],"texture":[4,3,2,17,13]},"emitter7":{"section_segments":20,"vertical":true,"offset":{"x":40,"y":5,"z":96},"position":{"x":[0,0,0,0,0,0],"y":[-1,5.4,5.5,5.3,5.7,6],"z":[0,0,0,0,0,0]},"width":[3,2.9,2.4,2.3,1.2,0],"height":[3,2.9,2.4,2.3,1.2,0],"texture":[4,3,2,17,13]}},"wings":{"armor_gun_connection":{"offset":{"x":50,"y":-5,"z":0},"length":[8],"position":[0,-22],"width":[20,30],"angle":[0],"texture":[2],"bump":{"position":5,"size":10}},"gun_fin":{"offset":{"x":39,"y":25,"z":15},"doubleside":true,"length":[20],"position":[0,20],"width":[29,15],"angle":[20],"texture":[63],"bump":{"position":5,"size":0}},"gun_fin2":{"offset":{"x":39,"y":12.5,"z":14},"doubleside":true,"length":[20],"position":[0,22],"width":[10,7],"angle":[20],"texture":[3],"bump":{"position":5,"size":0}},"front_fin1":{"offset":{"x":50,"y":-120,"z":0},"doubleside":true,"length":[10],"position":[0,-10],"width":[20,10],"angle":[0],"texture":[63],"bump":{"position":5,"size":10}},"front_fin2":{"offset":{"x":-30,"y":-120,"z":0},"doubleside":true,"length":[10],"position":[0,-10],"width":[20,10],"angle":[0],"texture":[63],"bump":{"position":5,"size":10}}},"typespec":{"name":"Inferno","level":1,"model":1,"code":101,"specs":{"shield":{"capacity":[7000,8000],"reload":[80,120]},"generator":{"capacity":[5000,6000],"reload":[1000,1200]},"ship":{"mass":6500,"speed":[100,130],"rotation":[35,55],"acceleration":[100,130]}},"shape":[3.301,8.188,8.201,8.864,8.455,5.559,4.796,4.889,4.835,4.55,4.359,4.235,4.094,4.022,4.026,4.031,4.12,4.281,4.685,4.155,4.214,4.168,3.973,3.785,3.896,3.907,3.896,3.785,3.973,4.168,4.214,4.155,4.685,4.281,4.12,4.031,4.026,4.022,4.094,4.235,4.359,4.55,4.835,4.889,4.796,5.559,8.455,8.864,8.201,8.188],"lasers":[{"x":2.4,"y":-7.8,"z":0,"angle":0,"damage":[50,80],"rate":10,"speed":[120,150],"number":2,"spread":4,"error":0,"recoil":10},{"x":-2.4,"y":-7.8,"z":0,"angle":0,"damage":[50,80],"rate":10,"speed":[120,150],"number":2,"spread":4,"error":0,"recoil":10}],"radius":8.864}}';

var ships = [];
ships.push(Inferno_101),

this.options = {
  root_mode: "team",
  friendly_colors: 1,
  map_size: 60,
  asteroid_strength: 0.3,
  radar_zoom: 1,
  crystal_value: 0,
  soundtrack: "argon.mp3",
  speed_mod: 1,
  vocabulary: vocabulary,
  custom_map: map,
  asteroids_strength: 10,
  ships: ships,
};
 
function tick(game){  
  if (game.step % 3600 === 0){
    if (game.ships.length === 1||2){
      rip += 1;
      basetimer(game);
    } else {
      rip += ~~(game.ships.length/3); 
      basetimer(game);
    }
  }
  if (game.step % 30 === 0){
    var max = Math.max(12,Math.min(23,~~(game.ships.length*2.2))); 
    if (game.aliens.length < max){
      var aliens = [{code:11},{code:11,level:1},{code:17},{code:17,level:1}];
      var alien = aliens[~~(Math.random()*aliens.length)];
      alien.x = game.aliens[0].x+Math.cos(Math.random()*Math.PI*2)*10;
      alien.y = game.aliens[0].y+Math.sin(Math.random()*Math.PI*2)*10;
      game.addAlien(alien);
    }
    for (let ship of game.ships){
      if (!ship.custom.init){
        ship.custom.init = true;
        joinmessage(ship);
        basetimer(game);
      }
    }
    if (rip <= 0){
      game.setUIComponent({
        id: "wtf",
        position: [32,5,42-8,40-8],
        visible: true,
        components: [
          {type: "text",position:[0,0,80,33],value:"Your base is out of health!",color:"#fff"},
        ]
      });         
      for (let ship of game.ships) ship.gameover({"Try again next time!":""});
      game.modding.I1I0I.send({name:"stop"});     
    }
    for(var i=0; i<game.aliens.length; i++){  
      if (game.aliens[0].code == 19){
        //curry curry curry 
      } else {
        for (let alien of game.aliens) alien.set({kill:true});
        game.setUIComponent({
          id: "lol",
          position: [32,5,42-8,40-8],
          visible: true,
          components: [
            {type: "text",position:[0,0,80,33],value:"Purple Saucer has been killed",color:"#fff"},
            {type: "text",position:[0,14,80,33],value:"GG, thanks for playing!",color:"#fff"},
          ]
        });          
        setTimeout(function(){ //don't make functions within a loop well FUCK YOU  
          for (let ship of game.ships) ship.gameover({"Nice":""});
          game.modding.I1I0I.send({name:"stop"});
        },5000);
      }
    }
  }
}
 
function game_start(game){
  if (!game.custom.init){
    game.custom.init = true;
    game.addAlien({code:19,level:2,crystals:4000,points:4000,x:0,y:300});
    game.addAlien({code:12,crystals:1000,points:1000,x:50,y:250});
  }
  this.tick = tick;
}
this.tick = game_start;

var rip = 1;

function basetimer(game){
  game.setUIComponent({
    id: "pogggggggg",
    position: [22,1,22,20],
    visible: true,
    components: [
      {type: "text",position:[0,0,80,33],value:"Station energy:",color:"#fff"},
      {type:"box",position:[1,34,79-rip,10],fill:"#00cc00"},
      {type:"box",position:[1,34,78,10],stroke:"#000",width:3}
    ]
  });   
}

function joinmessage(ship){
  ship.setUIComponent({
    id: "yeet",
    position: [32,8,42-8,40-8],
    visible: true,
    components: [
      {type: "text",position:[0,0,80,33],value:"Kill the purple Saucer to win",color:"#fff"},
      {type: "text",position:[0,16,80,33],value:"Good luck and have fun!",color:"#fff"},
    ]
  });      
  setTimeout(function(){  
    ship.setUIComponent({id:"yeet",visible:false});
  },5000);
}
